/* Accessible Reports Page Redesign (contrast tuned) */
:root { --r-bg:#ffffff; --r-bg-alt:#f8fafc; --r-bg-soft:#f1f5f9; --r-border:#d0d7e2; --r-border-strong:#94a3b8; --r-text:#111827; --r-text-strong:#0f172a; --r-text-soft:#27364a; --r-text-faint:#475569; --r-accent:#1d4ed8; --r-accent-hover:#163fae; --r-focus-ring:rgba(37,99,235,.4); --r-radius-sm:6px; --r-radius:10px; --r-radius-lg:16px; --r-danger-bg:#fee2e2; --r-danger-text:#b91c1c; --r-shadow:0 4px 14px -2px rgba(0,0,0,.12),0 0 0 1px rgba(0,0,0,.04); --r-font-base:clamp(.85rem,.78rem + .18vw,1rem); --r-font-small:clamp(.74rem,.7rem + .15vw,.85rem); }
/* Optional high contrast override */
:root.high-contrast, body.high-contrast { --r-text:#0b0f17; --r-text-soft:#182738; --r-text-faint:#324255; --r-border:#b8c2ce; }
.reports-container { display:flex; min-height:100vh; background:linear-gradient(135deg,#0f172a,#1e293b); }
.reports { flex:1; padding:clamp(1.2rem,1.2rem + 1.2vw,2.6rem); margin:1.1rem 1.4rem; background:var(--r-bg); border:1px solid var(--r-border); border-radius:var(--r-radius-lg); position:relative; box-shadow:var(--r-shadow); display:flex; flex-direction:column; gap:1.15rem; font-size:var(--r-font-base); color:var(--r-text); line-height:1.48; }
.reports::before { content:""; position:absolute; inset:0; background:linear-gradient(120deg,rgba(56,189,248,.10),rgba(99,102,241,.08)); opacity:.55; pointer-events:none; border-radius:inherit; }
.reports h2 { margin:0 0 .4rem; font-size:clamp(1.55rem,1.25rem + .9vw,2.15rem); font-weight:700; letter-spacing:.3px; color:var(--r-text-strong); text-shadow:0 1px 0 rgba(255,255,255,.6); filter:none; }
.reports p.desc { margin:0 0 .9rem; color:var(--r-text-soft); font-size:.95rem; max-width:64ch; }

/* Filters */
.filters-bar { display:flex; flex-wrap:wrap; gap:.65rem; align-items:center; background:var(--r-bg-alt); padding:.85rem .95rem; border:1px solid var(--r-border); border-radius:14px; }
.filters-bar input, .filters-bar select { background:var(--r-bg); border:1px solid var(--r-border); border-radius:var(--r-radius); padding:.6rem .75rem; font-size:var(--r-font-base); font-weight:500; letter-spacing:.25px; color:var(--r-text); min-width:130px; transition:border-color .2s, background .2s, color .2s; }
.filters-bar input:focus, .filters-bar select:focus { outline:none; border-color:var(--r-accent); box-shadow:0 0 0 3px var(--r-focus-ring); }
.filters-bar input::placeholder { color:var(--r-text-faint); }
.filters-bar button { background:var(--r-accent); color:#fff; border:1px solid var(--r-accent); padding:.58rem 1.05rem; font-size:var(--r-font-small); font-weight:650; letter-spacing:.07em; border-radius:var(--r-radius); cursor:pointer; text-transform:uppercase; box-shadow:0 2px 8px rgba(37,99,235,.35); transition:.22s background,.22s transform; }
.filters-bar button:hover { background:var(--r-accent-hover); }
.filters-bar button:disabled { opacity:.55; cursor:not-allowed; }

/* Pagination */
.pagination { display:flex; align-items:center; gap:1rem; font-size:var(--r-font-small); letter-spacing:.05em; margin-top:.6rem; color:var(--r-text); }
.pagination button { background:var(--r-bg-soft); border:1px solid var(--r-border); color:var(--r-text); padding:.55rem .95rem; border-radius:var(--r-radius); cursor:pointer; font-size:var(--r-font-small); font-weight:600; text-transform:uppercase; }
.pagination button:hover:not(:disabled) { background:#e2e8f0; }
.pagination button:disabled { opacity:.5; cursor:not-allowed; }

/* Detail Panel */
.report-detail-panel { position:fixed; top:0; right:0; bottom:0; width:min(440px,100%); background:var(--r-bg); border-left:1px solid var(--r-border); box-shadow:-4px 0 18px -6px rgba(0,0,0,.25); z-index:50; display:flex; backdrop-filter:saturate(1.1); }
.report-detail-panel .panel-inner { flex:1; display:flex; flex-direction:column; padding:1.2rem 1.25rem 1.4rem; overflow-y:auto; min-height:0; }
.panel-header { display:flex; align-items:center; justify-content:space-between; margin-bottom:.6rem; }
.panel-header h3 { margin:0; font-size:1.05rem; font-weight:650; letter-spacing:.4px; color:var(--r-text); }
.panel-header .close { background:var(--r-bg-soft); border:1px solid var(--r-border); width:36px; height:36px; border-radius:12px; cursor:pointer; font-size:1.1rem; line-height:1; display:flex; align-items:center; justify-content:center; color:var(--r-text-soft); }
.panel-header .close:hover { background:#e2e8f0; }
.panel-body { display:flex; flex-direction:column; gap:1rem; flex:1 1 auto; min-height:0; }
.panel-body { position:relative; }
.meta-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(150px,1fr)); gap:.55rem .75rem; }
.meta-grid { grid-template-columns:repeat(auto-fill,minmax(160px,1fr)); }
.meta-grid > div { display:flex; flex-direction:column; min-width:0; padding:.4rem .55rem; background:var(--r-bg-soft); border:1px solid var(--r-border); border-radius:10px; }
.meta-grid > div:hover { background:var(--r-bg-alt); }
.meta-grid .label { display:block; font-size:var(--r-font-small); font-weight:600; letter-spacing:.08em; text-transform:uppercase; color:var(--r-text-soft); }
.meta-grid .label { margin:0 0 2px; }
.meta-grid span { font-size:var(--r-font-base); }
.meta-grid span { word-break:break-word; overflow-wrap:anywhere; line-height:1.3; }
.status-chip { display:inline-flex; align-items:center; padding:4px 10px; border-radius:999px; font-size:var(--r-font-small); font-weight:600; letter-spacing:.07em; text-transform:uppercase; background:#e2e8f0; color:var(--r-text); }
.status-chip.open { background:#fee2e2; color:#b91c1c; }
.status-chip.under_review { background:#fef3c7; color:#b45309; }
.status-chip.resolved { background:#dcfce7; color:#166534; }
.status-chip.dismissed { background:#e0f2fe; color:#075985; }
.desc-block { background:var(--r-bg-alt); padding:.85rem .95rem; border:1px solid var(--r-border); border-radius:12px; font-size:var(--r-font-base); color:var(--r-text); line-height:1.52; }
.notes h4, .resolution-block h4 { margin:.2rem 0 .4rem; font-size:.8rem; font-weight:650; letter-spacing:.04em; color:var(--r-text); }
.notes ul { list-style:none; margin:0; padding:0; display:flex; flex-direction:column; gap:.5rem; }
.notes li { background:var(--r-bg-soft); border:1px solid var(--r-border); padding:.55rem .65rem; border-radius:12px; display:flex; flex-direction:column; gap:.25rem; }
.notes .date { font-size:var(--r-font-small); letter-spacing:.08em; text-transform:uppercase; color:var(--r-text-soft); font-weight:600; }
.notes .text { font-size:var(--r-font-base); color:var(--r-text); }
.add-note-row { display:flex; gap:.55rem; }
.add-note-row { align-items:stretch; }
.add-note-row input { flex:1; background:var(--r-bg); border:1px solid var(--r-border); border-radius:12px; padding:.6rem .75rem; font-size:var(--r-font-base); color:var(--r-text); }
.add-note-row input:focus { outline:none; border-color:var(--r-accent); box-shadow:0 0 0 3px var(--r-focus-ring); }
.add-note-row button { background:var(--r-accent); color:#fff; border:1px solid var(--r-accent); padding:.58rem 1.05rem; font-size:var(--r-font-small); font-weight:650; letter-spacing:.07em; border-radius:12px; cursor:pointer; text-transform:uppercase; }
.add-note-row button:disabled { opacity:.55; cursor:not-allowed; }
.actions-row { display:flex; flex-wrap:wrap; gap:.55rem; }
.actions-row { margin-top:.4rem; }
.actions-row button { background:var(--r-bg-soft); border:1px solid var(--r-border); padding:.58rem .95rem; font-size:var(--r-font-small); font-weight:600; letter-spacing:.07em; text-transform:uppercase; border-radius:12px; cursor:pointer; color:var(--r-text); }
.actions-row button:hover { background:#e2e8f0; }
.actions-row .danger { background:var(--r-danger-bg); border-color:#fecaca; color:var(--r-danger-text); }
.actions-row .danger:hover { background:#fecaca; }
.loading { font-size:.8rem; color:var(--r-text-soft); }
.res-action-badge { display:inline-block; padding:4px 10px; border-radius:999px; font-size:var(--r-font-small); font-weight:600; letter-spacing:.07em; text-transform:uppercase; background:#e2e8f0; color:var(--r-text); }
.res-action-badge.act-warned { background:#fef3c7; color:#b45309; }
.res-action-badge.act-temporary_ban { background:#ffe4e6; color:#be123c; }
.res-action-badge.act-permanent_ban { background:#fecdd3; color:#9f1239; }
.res-action-badge.act-content_removed { background:#e0f2fe; color:#075985; }
.res-action-badge.act-other { background:#ede9fe; color:#5b21b6; }
.res-action-badge.act-none { background:#f1f5f9; color:#475569; }

/* Resolution form */
.resolve-form { margin-top:1rem; background:var(--r-bg-alt); border:1px solid var(--r-border); border-radius:16px; padding:1rem .95rem 1.05rem; display:flex; flex-direction:column; gap:.75rem; animation:fadeIn .25s ease; }
.resolve-form h4 { margin:0; font-size:.85rem; font-weight:650; letter-spacing:.05em; color:var(--r-text); }
.resolve-actions-picker { display:flex; flex-wrap:wrap; gap:.45rem; }
.resolve-actions-picker button { background:var(--r-bg); border:1px solid var(--r-border); padding:.6rem .9rem; font-size:var(--r-font-small); font-weight:600; text-transform:uppercase; letter-spacing:.07em; border-radius:10px; cursor:pointer; color:var(--r-text); }
.resolve-actions-picker button.sel { background:#6366f1; border-color:#6366f1; color:#fff; box-shadow:0 2px 6px rgba(99,102,241,.35); }
.resolve-actions-picker button:hover:not(.sel) { background:var(--r-bg-soft); }
.resolve-form textarea { width:100%; resize:vertical; min-height:78px; background:var(--r-bg); border:1px solid var(--r-border); border-radius:12px; padding:.7rem .8rem; font-size:var(--r-font-base); line-height:1.5; color:var(--r-text); }
.resolve-form textarea:focus { outline:none; border-color:#6366f1; box-shadow:0 0 0 3px var(--r-focus-ring); }
.resolve-quick-presets { display:flex; flex-wrap:wrap; gap:.45rem; align-items:center; }
.resolve-quick-presets .label { font-size:var(--r-font-small); font-weight:600; letter-spacing:.08em; text-transform:uppercase; color:var(--r-text-soft); margin-right:.25rem; }
.resolve-quick-presets button { background:var(--r-bg-soft); border:1px solid var(--r-border); padding:.5rem .75rem; font-size:var(--r-font-small); font-weight:600; letter-spacing:.07em; border-radius:10px; cursor:pointer; text-transform:uppercase; }
.resolve-quick-presets button:hover { background:#e2e8f0; }
.resolve-form-actions { display:flex; gap:.65rem; flex-wrap:wrap; }
.resolve-form-actions button { background:var(--r-accent); color:#fff; border:1px solid var(--r-accent); padding:.6rem 1.05rem; font-size:var(--r-font-small); font-weight:650; letter-spacing:.07em; border-radius:12px; cursor:pointer; text-transform:uppercase; }
.resolve-form-actions button.secondary { background:var(--r-bg-soft); color:var(--r-text); border:1px solid var(--r-border); }
.resolve-form-actions button.secondary:hover { background:#e2e8f0; }
@keyframes fadeIn { from { opacity:0; transform:translateY(4px);} to { opacity:1; transform:translateY(0);} }

@media (max-width:960px){ .report-detail-panel { width:100%; } }

/* Report list */
.reports-list { display:flex; flex-direction:column; gap:.95rem; position:relative; z-index:1; }
.report { background:var(--r-bg); border:1px solid var(--r-border); border-radius:16px; padding:1rem 1.1rem .95rem; position:relative; overflow:hidden; box-shadow:0 2px 6px rgba(0,0,0,0.05); display:flex; flex-direction:column; gap:.55rem; }
.report::before { content:""; position:absolute; inset:0; background:linear-gradient(140deg,rgba(56,189,248,.16),rgba(99,102,241,.08)); opacity:.45; pointer-events:none; }
.report h4 { margin:0; font-size:.95rem; font-weight:650; letter-spacing:.04em; color:var(--r-text); }
.report p { margin:0; font-size:var(--r-font-base); color:var(--r-text); line-height:1.5; }
.report .meta { display:flex; gap:1rem; flex-wrap:wrap; font-size:var(--r-font-small); letter-spacing:.05em; text-transform:uppercase; color:var(--r-text-soft); }
.report .actions { display:flex; gap:.65rem; margin-top:.4rem; }
.report button { background:var(--r-bg-soft); border:1px solid var(--r-border); color:var(--r-text); font-size:var(--r-font-small); font-weight:600; letter-spacing:.05em; padding:6px 12px; border-radius:10px; cursor:pointer; transition:background .2s,border .2s; text-transform:uppercase; }
.report button:hover { background:#e2e8f0; }
.report button.resolve { background:#dcfce7; border-color:#bbf7d0; color:#15803d; }
.report button.resolve:hover { background:#bbf7d0; }

/* Status badges */
.status-badge { display:inline-flex; align-items:center; gap:6px; padding:4px 10px; font-size:var(--r-font-small); font-weight:600; letter-spacing:.07em; text-transform:uppercase; border-radius:999px; background:#e2e8f0; color:var(--r-text); }
.status-badge::before { content:""; width:6px; height:6px; border-radius:50%; background:currentColor; }
.status-pending { background:#fef2f2; color:#dc2626; }
.status-in-progress { background:#fff7ed; color:#d97706; }
.status-resolved { background:#ecfdf5; color:#059669; }

@media (max-width:860px){ .reports { margin:1rem; } }
@media (max-width:640px){ .report { padding:.9rem .9rem .85rem; } }
@media (prefers-color-scheme: dark) { :root { --r-bg:#1e2533; --r-bg-alt:#223040; --r-bg-soft:#2c3a4b; --r-border:#3f5063; --r-text:#f3f6fa; --r-text-strong:#ffffff; --r-text-soft:#e8edf3; --r-text-faint:#b5c0cc; --r-shadow:0 4px 14px -2px rgba(0,0,0,.6),0 0 0 1px rgba(255,255,255,.04);} .filters-bar button { box-shadow:0 2px 8px rgba(29,78,216,.55);} .panel-header .close { background:var(--r-bg-soft); border-color:var(--r-border); color:var(--r-text-faint);} .report { box-shadow:0 2px 8px rgba(0,0,0,.45);} .report::before { background:linear-gradient(140deg,rgba(56,189,248,.18),rgba(99,102,241,.18)); } .desc-block { color:var(--r-text-soft);} .add-note-row input { background:var(--r-bg-soft);} .resolve-form textarea { background:var(--r-bg-soft);} .resolve-actions-picker button { background:var(--r-bg-soft); color:var(--r-text); } .resolve-actions-picker button.sel { box-shadow:0 2px 8px rgba(99,102,241,.6);} .report button { background:var(--r-bg-soft);} }
